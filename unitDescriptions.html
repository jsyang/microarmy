<html>
    <style>
        canvas
        {
            image-rendering: -moz-crisp-edges;
            image-rendering: -o-crisp-edges;
            image-rendering: -webkit-optimize-contrast;
            -ms-interpolation-mode: nearest-neighbor;
            -webkit-filter: grayscale(100%); /* New WebKit */
            -moz-filter: grayscale(100%);
            -ms-filter: grayscale(100%); 
        }
        
        td, th
        {
            vertical-align: top;
            padding-bottom: 10px;
            padding-right:  20px;
            text-align:     left;
        }
        
        span
        {
            width: 10px;
        }
        
        hr
        {
            height:         0px;
            color:          #fff;
            border:         none;
            border-bottom:  1px solid #000;
        }
                
        div
        {
            width:100px;
            height:20px;
        }
        
        body, table
        {
            font-family:    sans-serif;
            font-variant:   small-caps;
        }
        
    </style>
    <head>
        <title>microarmy game pieces</title>
        <script>
            function img(id, w, h) {
                var scale = 3;
                
                var c       = document.createElement('canvas');
                c.width     = scale*w;
                c.height    = scale*h;
                
                var i       = new Image;
                i.onload    = function(){
                    var ctx     = c.getContext('2d');
                    ctx.drawImage(i, 0, 0);
                    var data = ctx.getImageData(0, 0, w, h).data;
                    var offset = 0;
                    ctx.clearRect(0,0,c.width,c.height);
                    
                    for (var y = 0; y < h; ++y) {
                        for (var x = 0; x < w; ++x) {
                            var r = data[offset++];
                            var g = data[offset++];
                            var b = data[offset++];
                            var a = data[offset++] / 100.0;
                            ctx.fillStyle = 'rgba(' + [r, g, b, a].join(',') + ')';
                            ctx.fillRect(x * scale, y * scale, scale, scale);
                        }
                    }
                    document.getElementById(id).appendChild(c);
                }
                
                i.src = 'gfx/'+id+'1.png';
            }
            
            function t(l){
                l.reverse();
                for(var i = l.length, html='<table>'; i-->0;) {
                    var j = l[i];
                    
                    html+=  '<tr><th>'+j.name+'</th><td id="'+j.id+'"></td><td><i>'+j.text.split(',').join('<br/>')+'</i></td></tr>'+
                            '<tr><td colspan="3"><hr/></td></tr>';
                }
                
                document.write(html+'</table>');
                
                for(var i = l.length; i-->0;)
                    img(l[i].id, l[i].w, l[i].h);
            }
        </script>
    </head>
    <body>
        <h1>Microarmy game pieces</h1>
        <hr/>
        
        <h2>Units</h2>

        <script>
        t([
                {
                    name:   'Pistol Infantry',
                    id:     'pistol',
                    text:   'pistol, weak bodyarmor, short range, aggressive, joe everyman. he is the foundation of armies',
                    w:      8,
                    h:      8
                },
                {
                    name:   'Rocket Infantry',
                    id:     'rocket',
                    text:   'RPG, medium bodyarmor, medium range, cautious',
                    w:      8,
                    h:      8
                },
                {
                    name:   'Engineer Infantry',
                    id:     'engineer',
                    text:   'small scaffold, medium bodyarmor, ambitious, lays down groundwork for new structures',
                    w:      8,
                    h:      8
                }
        ]);
        </script>
        
        <h2>Structures</h2>
        
        <script>
        t([
                {
                    name:   'Small Scaffold',
                    id:     'scaffold',
                    text:   'framework for constructing fortifications, capturable',
                    w:      16,
                    h:      8
                },
                {
                    name:   'Small Land Mine',
                    id:     'mine',
                    text:   'pressure sensitive anti-personnel mine, moderate damage, excels at maiming in all occasions',
                    w:      5,
                    h:      2
                },
                {
                    name:   'Pillbox',
                    id:     'pillbox',
                    text:   'light machine gun, capturable strong point, crew of 4, made in china',
                    w:      19,
                    h:      8
                },
                {
                    name:   'Small Turret',
                    id:     'turret',
                    text:   '30mm HE auto-loading cannon, medium range, medium armor, "Reach out and touch someone."',
                    w:      22,
                    h:      9
                },
                {
                    name:   'Small Missile Launcher',
                    id:     'missileracksmall',
                    text:   'rapid-fire heat seeking missile, long range, ',
                    w:      4,
                    h:      7
                },
                {
                    name:   'Small Ammo Dump',
                    id:     'ammodumpsmall',
                    text:   'small missile supplies, highly explosive, dislikes smokers',
                    w:      4,
                    h:      6
                },
                {
                    name:   'Surface-to-Surface Missile Launcher',
                    id:     'missilerack',
                    text:   'autonomous cruise missile, severe damage, extreme range, do not point at face',
                    w:      5,
                    h:      9
                },
                {
                    name:   'Ammo Dump',
                    id:     'ammodump',
                    text:   'various missile supplies, popular at birthday parties and corporate events',
                    w:      18,
                    h:      9
                },
                {
                    name:   'Con Tower',
                    id:     'watchtower',
                    text:   'long range IR / laser scope, sights targets for support weapons, a valuable tool for any commander',
                    w:      13,
                    h:      21
                },
                {
                    name:   'Communications Relay',
                    id:     'relay',
                    text:   'shortwave radio / satellite communication relay, transmits encrypted strategic orders, field commander\'s connection to HQ',
                    w:      15,
                    h:      27
                },
                {
                    name:   'Communications Bunker',
                    id:     'comm',
                    text:   'strategic planning / pistol - rocket - engineer infantry, heavy armor, kinda looks like a turtle',
                    w:      28,
                    h:      28
                },
                {
                    name:   'Barracks',
                    id:     'barracks',
                    text:   'pistol - engineer infantry, housing for army groups large and small',
                    w:      32,
                    h:      12
                },
                {
                    name:   'Vehicle Depot',
                    id:     'depot',
                    text:   'TBD',
                    w:      39,
                    h:      16
                },
                {
                    name:   'Helicopter Pad',
                    id:     'helipad',
                    text:   'TBD',
                    w:      28,
                    h:      11
                },
                {
                    name:   'Repair Yard',
                    id:     'repair',
                    text:   'TBD',
                    w:      28,
                    h:      14
                },
        ]);
        </script>
        
    </body>
</html>