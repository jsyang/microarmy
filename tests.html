<html><title>Test Code / Suites for microarmy</title>
<script src=util.js></script>
<script src=generate.js></script>
<script src=entity_base.js></script>
<script src=entity_behavior.js></script>
<script>
function getID(id){ return document.getElementById(id); }

var test_BehaviorTreeShorthand=new function(){
  this.init=function(){
    document.body.innerHTML+=
    "Copy and paste your behavior tree code in here.<br>"+
    "Double-click to strip all whitespace.<hr>"+
    "<textarea rows=24 cols=80 id='btreecode'></textarea><br>"+
    "<a href='javascript:test_BehaviorTreeShorthand.convertCodeText()'>"+
    "Convert</a>";
  };
  
  this.convertCodeText=function(){
    var codeBox=getID('btreecode');
    codeBox.value=Behavior.ConvertShortHand(
      codeBox.value.replace(/[\n +?]/g,'')
    );
  }
};

var heightmap, peaks;
var test_proceduralGameWorld=new function(){
  this.init=function(){
    var cv=document.createElement("canvas");
    cv.width=2490; cv.height=192;
    document.body.appendChild(cv);
    var ctx=cv.getContext("2d");
    var BG=Generate.BG(ctx,cv.width,cv.height);    
    ctx.putImageData(BG,0,0);
    var FG=Generate.FG(ctx,cv.width,cv.height);
    ctx.putImageData(FG.imgdata_,0,0);
    heightmap=FG.heightmap_;
    peaks=FG.peaks_;
  };
};

</script><body bgcolor=gray onload="test_proceduralGameWorld.init()"></body></html>